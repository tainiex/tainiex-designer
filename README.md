# Tainiex Designer

ä¸€ä¸ªåŸºäº Tauri + Canvas 2D çš„è·¨å¹³å°æ•°æ®åº“å»ºæ¨¡å·¥å…·ï¼Œæ”¯æŒå¯è§†åŒ–è®¾è®¡å’Œ DDL ç”Ÿæˆã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¨ **å¯è§†åŒ–å»ºæ¨¡** - åŸºäº Canvas 2D çš„é«˜æ€§èƒ½å›¾å½¢æ¸²æŸ“
- ğŸš€ **åˆ†å±‚æ¸²æŸ“** - ä¼˜åŒ–çš„å¤šå±‚æ¸²æŸ“æ¶æ„ï¼Œæ”¯æŒå±€éƒ¨é‡ç»˜
- ğŸ”„ **è·¨å¹³å°** - åŸºäº Tauriï¼Œæ”¯æŒ Windows, macOS, Linux
- ğŸ“¦ **DDL ç”Ÿæˆ** - æ”¯æŒå¤šç§æ•°æ®åº“æ–¹è¨€ (MySQL, PostgreSQL, Snowflake)
- ğŸ’¾ **é¡¹ç›®ç®¡ç†** - ä¿å­˜ã€åŠ è½½å’Œå¯¼å‡ºæ•°æ®åº“è®¾è®¡
- âš¡ **é«˜æ€§èƒ½** - requestAnimationFrame åŠ¨ç”»å¾ªç¯ï¼Œæµç•…äº¤äº’

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Vite** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **TypeScript** - ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ
- **Canvas 2D API** - åŸç”Ÿå›¾å½¢æ¸²æŸ“
- **Vanilla JS** - æ— æ¡†æ¶ä¾èµ–ï¼Œæè‡´æ€§èƒ½

### åç«¯æŠ€æœ¯æ ˆ
- **Tauri** - Rust é©±åŠ¨çš„è½»é‡çº§æ¡Œé¢åº”ç”¨æ¡†æ¶
- **æ–‡ä»¶ç³»ç»Ÿ API** - é¡¹ç›®æ–‡ä»¶çš„ä¿å­˜å’ŒåŠ è½½

### æ¸²æŸ“å¼•æ“ç‰¹æ€§
- **åˆ†å±‚æ¸²æŸ“ç³»ç»Ÿ**
  - èƒŒæ™¯å±‚ (Grid)
  - å®ä½“å±‚ (Tables)
  - è¿æ¥å±‚ (Relationships)
  - UI å±‚ (Selection/Hover)
- **å±€éƒ¨é‡ç»˜æœºåˆ¶** - ä»…æ¸²æŸ“å˜åŒ–åŒºåŸŸï¼Œä¼˜åŒ–æ€§èƒ½
- **è§†å£å˜æ¢** - å¹³ç§» (Pan) å’Œç¼©æ”¾ (Zoom) æ”¯æŒ

## ğŸ¯ æ”¯æŒçš„æ•°æ®åº“

- MySQL / MariaDB
- PostgreSQL
- Snowflake

## ğŸ“ é¡¹ç›®ç»“æ„

```
tainiex-designer/
â”œâ”€â”€ src/                      # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ renderer/             # Canvas æ¸²æŸ“å¼•æ“
â”‚   â”‚   â”œâ”€â”€ Renderer.ts       # ä¸»æ¸²æŸ“å™¨
â”‚   â”‚   â”œâ”€â”€ Layer.ts          # åˆ†å±‚ç³»ç»ŸåŸºç±»
â”‚   â”‚   â”œâ”€â”€ Viewport.ts       # è§†å£å˜æ¢ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ DirtyRegionManager.ts  # å±€éƒ¨é‡ç»˜ç®¡ç†
â”‚   â”‚   â””â”€â”€ layers/           # å„å±‚å®ç°
â”‚   â”‚       â”œâ”€â”€ GridLayer.ts
â”‚   â”‚       â”œâ”€â”€ EntityLayer.ts
â”‚   â”‚       â”œâ”€â”€ RelationshipLayer.ts
â”‚   â”‚       â””â”€â”€ UILayer.ts
â”‚   â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Schema.ts
â”‚   â”‚   â”œâ”€â”€ Table.ts
â”‚   â”‚   â”œâ”€â”€ Column.ts
â”‚   â”‚   â””â”€â”€ Relationship.ts
â”‚   â”œâ”€â”€ interactions/         # äº¤äº’ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ InteractionManager.ts
â”‚   â”‚   â”œâ”€â”€ SelectionManager.ts
â”‚   â”‚   â””â”€â”€ tools/            # å„ç§å·¥å…·
â”‚   â”œâ”€â”€ ddl/                  # DDL ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ DDLGenerator.ts
â”‚   â”‚   â””â”€â”€ generators/
â”‚   â”‚       â”œâ”€â”€ MySQLGenerator.ts
â”‚   â”‚       â”œâ”€â”€ PostgreSQLGenerator.ts
â”‚   â”‚       â””â”€â”€ SnowflakeGenerator.ts
â”‚   â”œâ”€â”€ store/                # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Store.ts
â”‚   â”‚   â””â”€â”€ UndoRedoManager.ts
â”‚   â”œâ”€â”€ persistence/          # æ–‡ä»¶æŒä¹…åŒ–
â”‚   â”‚   â””â”€â”€ FileManager.ts
â”‚   â”œâ”€â”€ ui/                   # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Toolbar.ts
â”‚   â”‚   â”œâ”€â”€ PropertyPanel.ts
â”‚   â”‚   â”œâ”€â”€ ContextMenu.ts
â”‚   â”‚   â””â”€â”€ MenuBar.ts
â”‚   â””â”€â”€ main.ts               # åº”ç”¨å…¥å£
â”œâ”€â”€ src-tauri/                # Tauri åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs
â”‚   â”‚   â””â”€â”€ commands/         # Tauri å‘½ä»¤
â”‚   â””â”€â”€ tauri.conf.json
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸš€ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- Rust (ç”¨äº Tauri)
- ç³»ç»Ÿä¾èµ–ï¼šå‚è€ƒ [Tauri Prerequisites](https://tauri.app/start/prerequisites/)

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run tauri dev
```

### æ„å»ºåº”ç”¨

```bash
npm run tauri build
```

## ğŸ® ä½¿ç”¨è¯´æ˜

### å¿«æ·é”®

- `Space + æ‹–æ‹½` - å¹³ç§»ç”»å¸ƒ
- `Ctrl + æ»šè½®` - ç¼©æ”¾ç”»å¸ƒ
- `Ctrl + Z` - æ’¤é”€
- `Ctrl + Y` - é‡åš
- `Delete` - åˆ é™¤é€‰ä¸­å…ƒç´ 

### åŸºæœ¬æ“ä½œ

1. **åˆ›å»ºè¡¨** - ç‚¹å‡»å·¥å…·æ çš„"æ–°å»ºè¡¨"æŒ‰é’®æˆ–åŒå‡»ç”»å¸ƒ
2. **ç¼–è¾‘è¡¨** - é€‰ä¸­è¡¨ååœ¨å³ä¾§å±æ€§é¢æ¿ç¼–è¾‘
3. **åˆ›å»ºå…³ç³»** - æ‹–æ‹½è¡¨çš„å­—æ®µåˆ°å¦ä¸€ä¸ªè¡¨
4. **ç”Ÿæˆ DDL** - æ–‡ä»¶ â†’ å¯¼å‡º DDL

## ğŸ“ å¼€å‘è§„èŒƒ

è¯¦è§ [AGENTS.md](./AGENTS.md)

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
